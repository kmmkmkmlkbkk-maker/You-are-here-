<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø­Ù† Ù‡Ù†Ø§ | Elite Challenge</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    
    <style>
        :root {
            --bg: #010413;
            --surface: #0f172a;
            --accent: #3b82f6;
            --secondary: #8b5cf6;
        }

        body {
            font-family: 'Cairo', sans-serif;
            background-color: var(--bg);
            color: #f1f5f9;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent;
        }

        /* Fluid Soft UI Design */
        .soft-card {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 30px 60px -12px rgba(0, 0, 0, 0.5);
            border-radius: 2.5rem;
        }

        .btn-premium {
            background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%);
            box-shadow: 0 10px 25px -5px rgba(59, 130, 246, 0.4);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .btn-premium:active { transform: scale(0.95); }

        .glass-input {
            background: rgba(2, 6, 23, 0.7);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 1.5rem;
            transition: all 0.3s;
        }

        .glass-input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.1);
            outline: none;
        }

        /* Animations */
        .fade-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .dice-spin { animation: spin 0.6s ease-in-out infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body class="min-h-screen">

    <!-- Splash Loader -->
    <div id="splash" class="fixed inset-0 z-[3000] bg-[#010413] flex flex-col items-center justify-center transition-opacity duration-1000">
        <div class="relative w-24 h-24 mb-6">
            <div class="absolute inset-0 rounded-full border-2 border-blue-500/10"></div>
            <div class="absolute inset-0 rounded-full border-t-2 border-blue-500 animate-spin"></div>
            <i class="fas fa-gem absolute inset-0 flex items-center justify-center text-3xl text-blue-500"></i>
        </div>
        <h1 class="text-blue-100 font-black tracking-[0.4em] text-xs opacity-50">Ù†Ø­Ù† Ù‡Ù†Ø§</h1>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInWithPopup, GoogleAuthProvider, onAuthStateChanged, signOut, setPersistence, browserLocalPersistence } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, doc, setDoc, getDoc, onSnapshot, updateDoc, increment, collection, query, getDocs, addDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAuWgWjxvlwVLt_nxoA0g_Z_k21Yn2MuJ8",
            authDomain: "power-4ec4d.firebaseapp.com",
            projectId: "power-4ec4d",
            storageBucket: "power-4ec4d.firebasestorage.app",
            messagingSenderId: "346740944193",
            appId: "1:346740944193:web:087296b7dc7bcca6c7c5c0"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();
        const appId = 'we-are-here-dice-v3';

        let user = null;
        let userData = { balance: 0 };
        let currentGameId = null;
        let gameSub = null;

        // --- Auth & Persistence ---
        setPersistence(auth, browserLocalPersistence);

        onAuthStateChanged(auth, async (u) => {
            const authView = document.getElementById('view-auth');
            const mainView = document.getElementById('view-main');
            const splash = document.getElementById('splash');

            if (u) {
                user = u;
                authView.classList.add('hidden');
                mainView.classList.remove('hidden');
                initProfile();
            } else {
                user = null;
                authView.classList.remove('hidden');
                mainView.classList.add('hidden');
            }
            setTimeout(() => { splash.style.opacity = '0'; setTimeout(() => splash.classList.add('hidden'), 1000); }, 1500);
        });

        window.login = () => signInWithPopup(auth, provider).catch(e => alert("ÙØ´Ù„ Ø§Ù„Ø¯Ø®ÙˆÙ„ØŒ ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­."));
        window.logout = () => signOut(auth);

        async function initProfile() {
            const userRef = doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'data');
            onSnapshot(userRef, (snap) => {
                if (snap.exists()) {
                    userData = snap.data();
                    updateUI();
                } else {
                    setDoc(userRef, { balance: 500, name: user.displayName, photo: user.photoURL, uid: user.uid });
                }
            });
        }

        function updateUI() {
            document.querySelectorAll('.bal-val').forEach(el => el.innerText = userData.balance.toLocaleString());
            document.getElementById('u-name').innerText = user.displayName;
            document.getElementById('u-photo').src = user.photoURL;
        }

        window.showScreen = (id) => {
            document.querySelectorAll('.app-screen').forEach(s => s.classList.add('hidden'));
            document.getElementById(id).classList.remove('hidden');
            if (id === 'lobby' && gameSub) { gameSub(); gameSub = null; }
        };

        // --- Matchmaking (Random & Custom) ---
        window.findRandomMatch = async () => {
            const bet = parseInt(document.getElementById('bet-select').value);
            if (userData.balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ­Ø¯ÙŠ.");
            
            document.getElementById('search-overlay').classList.remove('hidden');
            
            // Search for an open game with the same bet
            const gamesRef = collection(db, 'artifacts', appId, 'public', 'data', 'games');
            const qSnap = await getDocs(gamesRef);
            let foundGameId = null;

            qSnap.forEach(doc => {
                const data = doc.data();
                if (data.status === 'waiting' && data.bet === bet && data.p1.id !== user.uid) {
                    foundGameId = doc.id;
                }
            });

            if (foundGameId) {
                await joinGame(foundGameId, bet);
            } else {
                // Create new room with a random ID
                const newId = Math.floor(100000 + Math.random() * 900000).toString();
                await createGame(newId, bet);
            }
            document.getElementById('search-overlay').classList.add('hidden');
        };

        window.joinCustomRoom = async () => {
            const rid = document.getElementById('custom-room-id').value.trim();
            const bet = parseInt(document.getElementById('bet-select').value);
            if (!rid) return alert("Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„ØºØ±ÙØ©.");
            if (userData.balance < bet) return alert("Ø±ØµÙŠØ¯Ùƒ Ù„Ø§ ÙŠÙƒÙÙŠ.");

            const gRef = doc(db, 'artifacts', appId, 'public', 'data', 'games', rid);
            const snap = await getDoc(gRef);

            if (!snap.exists()) {
                await createGame(rid, bet);
            } else {
                await joinGame(rid, bet);
            }
        };

        async function createGame(id, bet) {
            await updateDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'data'), { balance: increment(-bet) });
            await setDoc(doc(db, 'artifacts', appId, 'public', 'data', 'games', id), {
                p1: { id: user.uid, name: user.displayName, photo: user.photoURL, rolls: [], total: 0 },
                bet, status: 'waiting', turn: 1, createdAt: new Date()
            });
            startListening(id);
        }

        async function joinGame(id, bet) {
            const gRef = doc(db, 'artifacts', appId, 'public', 'data', 'games', id);
            const data = (await getDoc(gRef)).data();
            if (data.status !== 'waiting') return alert("Ø§Ù„ØºØ±ÙØ© Ù„Ù… ØªØ¹Ø¯ Ù…ØªØ§Ø­Ø©.");
            
            await updateDoc(doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'data'), { balance: increment(-bet) });
            await updateDoc(gRef, {
                p2: { id: user.uid, name: user.displayName, photo: user.photoURL, rolls: [], total: 0 },
                status: 'playing'
            });
            startListening(id);
        }

        function startListening(id) {
            currentGameId = id;
            showScreen('view-game');
            gameSub = onSnapshot(doc(db, 'artifacts', appId, 'public', 'data', 'games', id), (s) => {
                if (s.exists()) renderGame(s.data());
            });
        }

        function renderGame(data) {
            const board = document.getElementById('game-board');
            const isP1 = data.p1.id === user.uid;
            const myTurn = (data.turn === 1 && isP1) || (data.turn === 2 && !isP1);

            let html = `<div class="text-center mb-8"><span class="bg-blue-600/10 text-blue-400 px-4 py-1 rounded-full text-[10px] font-black border border-blue-500/20">ØªØ­Ø¯ÙŠ Ø¨Ù€ ${(data.bet * 2).toLocaleString()} ğŸ’</span></div>`;

            if (data.status === 'waiting') {
                html += `<div class="py-32 text-center animate-pulse text-gray-500">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ù…Ù†Ø§ÙØ³ Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ© #${currentGameId}</div>`;
            } else if (data.status === 'playing') {
                html += `
                    <div class="grid grid-cols-2 gap-6 mb-12">
                        <div class="soft-card p-6 flex flex-col items-center border-2 ${data.turn===1?'border-blue-500 shadow-lg shadow-blue-500/20':'border-transparent opacity-40'}">
                            <img src="${data.p1.photo}" class="w-14 h-14 rounded-2xl mb-4 border border-slate-700">
                            <p class="text-[10px] font-bold opacity-60 truncate max-w-full">${data.p1.name}</p>
                            <div class="text-5xl font-black mt-2">${data.p1.total}</div>
                        </div>
                        <div class="soft-card p-6 flex flex-col items-center border-2 ${data.turn===2?'border-blue-500 shadow-lg shadow-blue-500/20':'border-transparent opacity-40'}">
                            <img src="${data.p2.photo}" class="w-14 h-14 rounded-2xl mb-4 border border-slate-700">
                            <p class="text-[10px] font-bold opacity-60 truncate max-w-full">${data.p2.name}</p>
                            <div class="text-5xl font-black mt-2">${data.p2.total}</div>
                        </div>
                    </div>
                    <div class="flex flex-col items-center">
                        ${myTurn ? `
                            <button onclick="roll()" class="btn-premium w-24 h-24 rounded-full text-4xl shadow-blue-500/50 flex items-center justify-center"><i class="fas fa-dice"></i></button>
                            <p class="mt-4 text-blue-400 font-black animate-bounce text-sm">Ø¯ÙˆØ±Ùƒ Ø§Ù„Ø¢Ù†</p>
                        ` : `<p class="text-gray-500 italic text-sm">Ø¨Ø§Ù†ØªØ¸Ø§Ø± Ø­Ø±ÙƒØ© Ø§Ù„Ù…Ù†Ø§ÙØ³...</p>`}
                    </div>
                `;
            } else {
                const iWon = data.winner === (isP1 ? 1 : 2);
                html += `
                    <div class="text-center py-10 fade-in">
                        <div class="text-8xl mb-8">${iWon ? 'ğŸ‘‘' : 'ğŸ¥ˆ'}</div>
                        <h2 class="text-3xl font-black mb-4">${iWon ? 'Ø£Ù†Øª Ø§Ù„Ø¨Ø·Ù„!' : 'Ø¬ÙˆÙ„Ø© Ø±Ø§Ø¦Ø¹Ø©'}</h2>
                        <p class="text-gray-400 mb-12">${iWon ? `ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© ${(data.bet * 2).toLocaleString()} Ø¬ÙˆÙ‡Ø±Ø© Ù„Ù…Ø­ÙØ¸ØªÙƒ` : 'Ù„Ù‚Ø¯ Ø®Ø¶Øª ØªØ­Ø¯ÙŠØ§Ù‹ Ù…Ø´Ø±ÙØ§Ù‹'}</p>
                        <button onclick="location.reload()" class="btn-premium w-full py-5 rounded-2xl font-black">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø³Ø§Ø­Ø©</button>
                    </div>
                `;
                if(iWon && !data.paid) finalize(data);
            }
            board.innerHTML = html;
        }

        window.roll = async () => {
            const gRef = doc(db, 'artifacts', appId, 'public', 'data', 'games', currentGameId);
            const data = (await getDoc(gRef)).data();
            const isP1 = data.p1.id === user.uid;
            const me = isP1 ? data.p1 : data.p2;

            if (me.rolls.length >= 2) return;
            const r = Math.floor(Math.random() * 6) + 1;
            const newRolls = [...me.rolls, r];
            const newTotal = newRolls.reduce((a, b) => a + b, 0);

            const key = isP1 ? 'p1' : 'p2';
            const upd = { [`${key}.rolls`]: newRolls, [`${key}.total`]: newTotal };

            if (newRolls.length === 2) {
                if (isP1) upd.turn = 2;
                else { upd.status = 'finished'; upd.winner = data.p1.total > newTotal ? 1 : (newTotal > data.p1.total ? 2 : 0); }
            }
            await updateDoc(gRef, upd);
        };

        async function finalize(data) {
            const userRef = doc(db, 'artifacts', appId, 'users', user.uid, 'profile', 'data');
            await updateDoc(userRef, { balance: increment(data.bet * 2) });
            await updateDoc(doc(db, 'artifacts', appId, 'public', 'data', 'games', currentGameId), { paid: true });
        }

        // --- Store / Deposit ---
        window.openVoucher = (gems) => {
            window.targetGems = gems;
            document.getElementById('modal-voucher').classList.remove('hidden');
            document.getElementById('v-info').innerText = `Ø­Ø²Ù…Ø© Ø§Ù„Ù€ ${gems} Ø¬ÙˆÙ‡Ø±Ø©`;
        };

        window.submitVoucher = async () => {
            const code = document.getElementById('inp-v-code').value.trim();
            if (!code || code.length < 5) return alert("Ø£Ø¯Ø®Ù„ Ø±Ù…Ø²Ø§Ù‹ ØµØ­ÙŠØ­Ø§Ù‹.");
            
            const btn = document.getElementById('btn-v-confirm');
            btn.disabled = true; btn.innerText = "Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...";

            try {
                await addDoc(collection(db, 'artifacts', appId, 'public', 'data', 'deposit_requests'), {
                    userId: user.uid, userName: user.displayName, 
                    cardCode: code, gems: window.targetGems,
                    timestamp: new Date()
                });
                alert("ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ. Ø³ØªØªÙ… Ø§Ù„Ø¥Ø¶Ø§ÙØ© ÙÙˆØ± Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„Ø±Ù…Ø².");
                document.getElementById('modal-voucher').classList.add('hidden');
                document.getElementById('inp-v-code').value = '';
            } catch (e) { alert("Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„."); }
            finally { btn.disabled = false; btn.innerText = "ØªØ£ÙƒÙŠØ¯"; }
        };

    </script>

    <!-- UI: Authentication -->
    <section id="view-auth" class="hidden min-h-screen flex flex-col items-center justify-center p-12 text-center max-w-sm mx-auto">
        <div class="soft-card w-28 h-28 flex items-center justify-center text-5xl text-blue-500 mb-12 shadow-2xl animate-pulse">
            <i class="fas fa-dice-d20"></i>
        </div>
        <h1 class="text-5xl font-black mb-6 tracking-tighter">Ù†Ø­Ù† Ù‡Ù†Ø§</h1>
        <p class="text-gray-500 text-sm mb-16 leading-relaxed">ØªØ­Ø¯Ù‰ Ø§Ù„Ù†Ø®Ø¨Ø© ÙÙŠ Ø¹Ø§Ù„Ù… Ø§Ù„Ø²Ø§Ø± Ø§Ù„Ù…Ù„ÙƒÙŠ. Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† ÙˆØ§ÙƒØªØ´Ù Ø±ÙˆØ¹Ø© Ø§Ù„Ù…Ù†Ø§ÙØ³Ø©.</p>
        <button onclick="login()" class="btn-premium w-full py-6 font-black text-xl flex items-center justify-center gap-4 shadow-2xl">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" class="w-7 h-7">
            Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¹Ø¨Ø± Google
        </button>
    </section>

    <!-- UI: Main Application -->
    <section id="view-main" class="hidden w-full max-w-md p-6 pt-10 mx-auto">
        
        <!-- Top Navigation -->
        <header class="flex justify-between items-center mb-12 soft-card p-5">
            <div class="flex items-center gap-4">
                <div class="relative">
                    <img id="u-photo" class="w-14 h-14 rounded-3xl border-2 border-blue-500/40 p-0.5 object-cover">
                    <div class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 border-4 border-[#0f172a] rounded-full"></div>
                </div>
                <div class="leading-none">
                    <h3 id="u-name" class="font-bold text-[10px] truncate max-w-[130px] opacity-70 mb-1">---</h3>
                    <div class="bg-blue-600/10 px-3 py-1 rounded-xl text-blue-400 font-black text-xs inline-block">
                        <span class="bal-val">0</span> ğŸ’
                    </div>
                </div>
            </div>
            <button onclick="logout()" class="w-12 h-12 soft-card flex items-center justify-center text-red-500 hover:bg-red-500/10 transition-colors">
                <i class="fas fa-power-off text-sm"></i>
            </button>
        </header>

        <!-- Screen: Lobby -->
        <div id="lobby" class="app-screen space-y-10 fade-in">
            <div class="soft-card p-10 text-center relative overflow-hidden">
                <div class="absolute -top-12 -right-12 w-40 h-40 bg-blue-600/5 rounded-full blur-3xl"></div>
                <h2 class="text-3xl font-black mb-10 tracking-tight">Ø³Ø§Ø­Ø© Ø§Ù„ØªØ­Ø¯ÙŠ</h2>
                
                <div class="space-y-6">
                    <div class="text-right">
                        <label class="text-[10px] text-gray-500 block mb-3 font-black uppercase tracking-widest px-3">Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬ÙˆÙ„Ø©</label>
                        <select id="bet-select" class="w-full glass-input p-5 font-black text-2xl text-center cursor-pointer">
                            <option value="100">100 ğŸ’</option>
                            <option value="500" selected>500 ğŸ’</option>
                            <option value="1000">1,000 ğŸ’</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-1 gap-4">
                        <button onclick="findRandomMatch()" class="btn-premium w-full py-6 font-black text-xl flex items-center justify-center gap-3">
                            <i class="fas fa-search"></i> Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø§ÙØ³ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
                        </button>
                        
                        <div class="flex items-center gap-2 py-4">
                            <div class="flex-1 h-px bg-white/5"></div>
                            <span class="text-[10px] text-gray-600 font-bold uppercase tracking-widest">Ø£Ùˆ Ø§Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù ØºØ±ÙØ©</span>
                            <div class="flex-1 h-px bg-white/5"></div>
                        </div>

                        <div class="flex gap-3">
                            <input id="custom-room-id" type="number" placeholder="Ø±Ù‚Ù… Ø§Ù„ØºØ±ÙØ©" class="flex-1 glass-input p-5 font-black text-xl">
                            <button onclick="joinCustomRoom()" class="soft-card px-6 hover:bg-white/5 transition-colors"><i class="fas fa-sign-in-alt"></i></button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-5">
                <button onclick="showScreen('store')" class="soft-card p-8 flex flex-col items-center gap-5 transition hover:scale-105 active:scale-95">
                    <div class="w-14 h-14 bg-blue-500/10 rounded-2xl flex items-center justify-center text-blue-400 text-2xl shadow-inner"><i class="fas fa-store"></i></div>
                    <span class="font-black text-xs uppercase tracking-widest">Ø§Ù„Ù…ØªØ¬Ø±</span>
                </button>
                <button onclick="showScreen('rewards')" class="soft-card p-8 flex flex-col items-center gap-5 transition hover:scale-105 active:scale-95">
                    <div class="w-14 h-14 bg-yellow-500/10 rounded-2xl flex items-center justify-center text-yellow-500 text-2xl shadow-inner"><i class="fas fa-gift"></i></div>
                    <span class="font-black text-xs uppercase tracking-widest">Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</span>
                </button>
            </div>
            
            <p class="text-center text-[10px] text-gray-600 font-bold tracking-[0.3em] uppercase">We Are Here System v3.0</p>
        </div>

        <!-- Store View -->
        <div id="store" class="app-screen hidden space-y-8 fade-in">
            <button onclick="showScreen('lobby')" class="text-gray-500 font-bold mb-6 flex items-center gap-3 px-2"><i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©</button>
            <h2 class="text-4xl font-black mb-12 tracking-tighter">Ù…ØªØ¬Ø± Ø§Ù„Ù†Ø®Ø¨Ø© ğŸ’</h2>
            <div class="space-y-5">
                <div onclick="openVoucher(500)" class="soft-card p-8 flex justify-between items-center cursor-pointer border-r-4 border-blue-500 hover:bg-blue-500/5 transition-all">
                    <div class="flex items-center gap-6">
                        <div class="w-16 h-16 bg-blue-500/15 rounded-2xl flex items-center justify-center text-3xl"><i class="fas fa-gem"></i></div>
                        <div><p class="font-black text-xl">500 Ø¬ÙˆÙ‡Ø±Ø©</p><p class="text-[10px] opacity-40">Ù‚ÙŠÙ…Ø© Ø§Ù„ØªØ¨Ø§Ø¯Ù„: 5$</p></div>
                    </div>
                    <i class="fas fa-plus text-blue-400 opacity-40"></i>
                </div>
                <div onclick="openVoucher(1500)" class="soft-card p-8 flex justify-between items-center cursor-pointer border-r-4 border-indigo-500 hover:bg-indigo-500/5 transition-all">
                    <div class="flex items-center gap-6">
                        <div class="w-16 h-16 bg-indigo-500/15 rounded-2xl flex items-center justify-center text-3xl text-indigo-400"><i class="fas fa-crown"></i></div>
                        <div><p class="font-black text-xl">1,500 Ø¬ÙˆÙ‡Ø±Ø©</p><p class="text-[10px] text-indigo-300 font-bold">Ø¨Ø§Ù‚Ø© Ø§Ù„Ù†Ø®Ø¨Ø© (10$)</p></div>
                    </div>
                    <i class="fas fa-plus text-indigo-400 opacity-40"></i>
                </div>
            </div>
        </div>

        <!-- Rewards View -->
        <div id="rewards" class="app-screen hidden text-center fade-in">
            <button onclick="showScreen('lobby')" class="text-gray-500 font-bold mb-10 block text-right px-2"><i class="fas fa-arrow-right"></i> Ø±Ø¬ÙˆØ¹</button>
            <div class="soft-card p-14 border-t-2 border-blue-500/20 shadow-blue-500/5">
                <div class="w-24 h-24 bg-blue-600/10 text-blue-400 rounded-3xl flex items-center justify-center text-5xl mx-auto mb-10 shadow-inner"><i class="fas fa-exchange-alt"></i></div>
                <h2 class="text-3xl font-black mb-4 tracking-tight">Ù…Ø±ÙƒØ² Ø§Ù„Ø³Ø­Ø¨</h2>
                <p class="text-sm text-gray-500 mb-12 px-4 leading-relaxed italic">Ø­ÙˆÙ‘Ù„ Ø¥Ù†Ø¬Ø§Ø²Ø§ØªÙƒ Ù…Ù† Ø§Ù„Ø¬ÙˆØ§Ù‡Ø± Ø¥Ù„Ù‰ Ù…ÙƒØ§ÙØ¢Øª Ø­Ù‚ÙŠÙ‚ÙŠØ© ØªØ­ÙˆÙ„ Ù„Ù…Ø­ÙØ¸ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©.</p>
                <div class="glass-input p-8 mb-12">
                    <p class="text-[10px] text-gray-500 font-black mb-3 uppercase tracking-widest">Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù…ØªØ§Ø­ Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    <div class="text-6xl font-black text-blue-400 tracking-tighter bal-val">0</div>
                    <p class="text-[10px] text-blue-400/50 mt-5 font-bold">ÙƒÙ„ 100 Ø¬ÙˆÙ‡Ø±Ø© = 1,000 Ø¯ÙŠÙ†Ø§Ø± Ø¹Ø±Ø§Ù‚ÙŠ</p>
                </div>
                <button onclick="alert('Ø³ÙŠØªÙ… Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø·Ù„Ø¨ ÙˆØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø±ØµÙŠØ¯ Ø®Ù„Ø§Ù„ Ø³Ø§Ø¹Ø§Øª.')" class="btn-premium w-full py-6 font-black text-xl">ØªÙØ¹ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø³Ø­Ø¨</button>
            </div>
        </div>

        <!-- Game Arena -->
        <div id="view-game" class="app-screen hidden"><div id="game-board" class="soft-card p-10 min-h-[500px] fade-in"></div></div>

    </section>

    <!-- Modal: Search Overlay -->
    <div id="search-overlay" class="hidden fixed inset-0 z-[4000] bg-slate-950/95 backdrop-blur-2xl flex flex-col items-center justify-center">
        <div class="dice-spin text-7xl text-blue-500 mb-8"><i class="fas fa-dice"></i></div>
        <h3 class="text-2xl font-black mb-2 animate-pulse">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ù†Ø§ÙØ³...</h3>
        <p class="text-xs text-gray-500 tracking-widest uppercase">Elite Matchmaking</p>
    </div>

    <!-- Modal: Voucher Deposit -->
    <div id="modal-voucher" class="hidden fixed inset-0 z-[3000] bg-[#010413]/95 backdrop-blur-2xl flex items-center justify-center p-8">
        <div class="soft-card w-full max-w-sm p-12 relative border-t-4 border-blue-600">
            <button onclick="document.getElementById('modal-voucher').classList.add('hidden')" class="absolute top-8 left-8 text-gray-600 hover:text-white"><i class="fas fa-times text-2xl"></i></button>
            <div class="text-center">
                <div class="w-20 h-20 bg-blue-600/10 rounded-3xl mx-auto mb-8 flex items-center justify-center text-4xl text-blue-500 shadow-inner"><i class="fas fa-unlock-alt"></i></div>
                <h3 class="text-3xl font-black mb-2 tracking-tighter">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø­Ø²Ù…Ø©</h3>
                <p id="v-info" class="text-sm text-gray-500 mb-12 font-bold"></p>
                <div class="text-right mb-10">
                    <label class="text-[10px] text-gray-600 block mb-3 font-black uppercase tracking-widest px-3">Ø§Ù„Ø±Ù…Ø² Ø§Ù„Ù…ÙƒØªÙˆØ¨ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©</label>
                    <input id="inp-v-code" type="text" placeholder="*133*Ø§Ù„Ø±Ù…Ø²#" class="w-full glass-input p-5 font-mono text-2xl tracking-widest placeholder:text-slate-800">
                </div>
                <button id="btn-v-confirm" onclick="submitVoucher()" class="btn-premium w-full py-6 font-black text-xl shadow-blue-500/30">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙØ¹ÙŠÙ„</button>
            </div>
        </div>
    </div>

</body>
</html>
